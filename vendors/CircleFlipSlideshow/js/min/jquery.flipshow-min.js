!function($,t,i){"use strict";var s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";$.fn.imagesLoaded=function(t){function n(){var i=$(l),s=$(f);o&&(f.length?o.reject(c,i,s):o.resolve(c)),$.isFunction(t)&&t.call(r,c,i,s)}function e(t){a(t.target,"error"===t.type)}function a(t,i){t.src!==s&&-1===$.inArray(t,d)&&(d.push(t),i?f.push(t):l.push(t),$.data(t,"imagesLoaded",{isBroken:i,src:t.src}),h&&o.notifyWith($(t),[i,c,$(l),$(f)]),c.length===d.length&&(setTimeout(n),c.unbind(".imagesLoaded",e)))}var r=this,o=$.isFunction($.Deferred)?$.Deferred():0,h=$.isFunction(o.notify),c=r.find("img").add(r.filter("img")),d=[],l=[],f=[];return $.isPlainObject(t)&&$.each(t,function(i,s){"callback"===i?t=s:o&&o[i](s)}),c.length?c.bind("load.imagesLoaded error.imagesLoaded",e).each(function(t,n){var e=n.src,r=$.data(n,"imagesLoaded");return r&&r.src===e?void a(n,r.isBroken):n.complete&&n.naturalWidth!==i?void a(n,0===n.naturalWidth||0===n.naturalHeight):void((n.readyState||n.complete)&&(n.src=s,n.src=e))}):n(),o?o.promise(r):r};var n=t.Modernizr;$.Flipshow=function(t,i){this.$el=$(i),this._init(t)},$.Flipshow.defaults={speed:700,easing:"cubic-bezier(.29,1.44,.86,1.06)"},$.Flipshow.prototype={_init:function(t){this.options=$.extend(!0,{},$.Flipshow.defaults,t),this.support=n.csstransitions&&n.csstransforms3d;var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},s={WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",transform:"transform"};this.support&&(this.transEndEventName=i[n.prefixed("transition")]+".cbpFWSlider",this.transformName=s[n.prefixed("transform")]),this.transitionProperties=this.transformName+" "+this.options.speed+"ms "+this.options.easing,this.$listItems=this.$el.children("ul.fc-slides"),this.$items=this.$listItems.children("li").hide(),this.itemsCount=this.$items.length,this.current=0,this.$listItems.imagesLoaded($.proxy(function(){this.$items.eq(this.current).show(),this.itemsCount>0&&(this._addNav(),this.support&&this._layout())},this))},_addNav:function(){var t=this,i=$('<div class="fc-left"><span></span><span></span><span></span><i class="icon-arrow-left"></i></div>'),s=$('<div class="fc-right"><span></span><span></span><span></span><i class="icon-arrow-right"></i></div>');$("<nav></nav>").append(i,s).appendTo(this.$el),i.find("span").on("click.flipshow touchstart.flipshow",function(){t._navigate($(this),"left")}),s.find("span").on("click.flipshow touchstart.flipshow",function(){t._navigate($(this),"right")})},_layout:function(t,i){this.$flipFront=$('<div class="fc-front"><div></div></div>'),this.$frontContent=this.$flipFront.children("div:first"),this.$flipBack=$('<div class="fc-back"><div></div></div>'),this.$backContent=this.$flipBack.children("div:first"),this.$flipEl=$('<div class="fc-flip"></div>').append(this.$flipFront,this.$flipBack).hide().appendTo(this.$el)},_navigate:function(t,i){if(this.isAnimating&&this.support)return!1;this.isAnimating=!0;var s=this.$items.eq(this.current).hide();"right"===i?this.current<this.itemsCount-1?++this.current:this.current=0:"left"===i&&(this.current>0?--this.current:this.current=this.itemsCount-1);var n=this.$items.eq(this.current);this.support?this._flip(s,n,i,t.index()):n.show()},_flip:function(t,i,s,n){var e="",a=$('<div class="fc-overlay-light"></div>'),r=$('<div class="fc-overlay-dark"></div>');this.$flipEl.css("transition",this.transitionProperties),this.$flipFront.find("div.fc-overlay-light, div.fc-overlay-dark").remove(),this.$flipBack.find("div.fc-overlay-light, div.fc-overlay-dark").remove(),"right"===s?(this.$flipFront.append(a),this.$flipBack.append(r),r.css("opacity",1)):"left"===s&&(this.$flipFront.append(r),this.$flipBack.append(a),a.css("opacity",1));var o={transition:"opacity "+this.options.speed/1.3+"ms"};switch(a.css(o),r.css(o),n){case 0:e="left"===s?"rotate3d(-1,1,0,-179deg) rotate3d(-1,1,0,-1deg)":"rotate3d(1,1,0,180deg)";break;case 1:e="left"===s?"rotate3d(0,1,0,-179deg) rotate3d(0,1,0,-1deg)":"rotate3d(0,1,0,180deg)";break;case 2:e="left"===s?"rotate3d(1,1,0,-179deg) rotate3d(1,1,0,-1deg)":"rotate3d(-1,1,0,179deg) rotate3d(-1,1,0,1deg)"}this.$flipBack.css("transform",e),this.$frontContent.empty().html(t.html()),this.$backContent.empty().html(i.html()),this.$flipEl.show();var h=this;setTimeout(function(){h.$flipEl.css("transform",e),a.css("opacity","right"===s?1:0),r.css("opacity","right"===s?0:1),h.$flipEl.on(h.transEndEventName,function(t){"fc-overlay-light"!==t.target.className&&"fc-overlay-dark"!==t.target.className&&h._ontransitionend(i)})},25)},_ontransitionend:function(t){t.show(),this.$flipEl.off(this.transEndEventName).css({transition:"none",transform:"none"}).hide(),this.isAnimating=!1}};var e=function(i){t.console&&t.console.error(i)};$.fn.flipshow=function(t){if("string"==typeof t){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var s=$.data(this,"flipshow");return s?$.isFunction(s[t])&&"_"!==t.charAt(0)?void s[t].apply(s,i):void e("no such method '"+t+"' for flipshow instance"):void e("cannot call methods on flipshow prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){var i=$.data(this,"flipshow");i?i._init():i=$.data(this,"flipshow",new $.Flipshow(t,this))});return this}}(jQuery,window);