<!DOCTYPE html>

<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">

    <!-- Title -->
    <title>EveryTheme - All-In-One Theme</title>

    <!-- Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Raleway:100,200,300,400,500,600,700,800,900' rel='stylesheet' type='text/css'>

    <!-- Bootstrap -->
    <link href="vendors/animsition/dist/css/animsition.alpha.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="js/selectivizr.js"></script>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  </head>

  <body>

    <div class="animsition">

      <h1>Content</h1>

    </div>

    <script type="text/javascript" src="vendors/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="js/modernizr.js"></script>
    <script type="text/javascript" src="vendors/animsition/dist/js/jquery.animsition.alpha.js"></script>

    <script type="text/javascript">
      (function () {
        var $animsition = $('.animsition');
        $animsition.animsition({
            loading: false,
            timeOut: true,
            timeoutCountdown: 2.0,
            timeoutFunction:function(){
              $animsition.each(function(i){
                $(this).animsition('in');
              });
            }
            // transition: function(url){ }
        });
        // method 'addLoading'
        $animsition.animsition('addLoading');
        $animsition.on('animsition.inStart',function(e){
          $(this).animsition('removeLoading');
          console.log('inStart');
        })
        .on('animsition.inEnd',function(e){
          console.log('inEnd');
        })
        .on('animsition.inDone',function(e){
          console.log('inDone');
        })
        .on('animsition.timeout',function(e){
          console.log('timeout');
          // $(this).animsition('in');
        });
        $('.foo').on("click", function(e) {
          e.preventDefault();
          $self = $(this);
          var url = $self.attr('href');
          $animsition.each(function(i){
            $(this).animsition('out', $self, url);
          })
          $animsition.on('animsition.outEnd',function(){
            console.log('outEnd');
          })
          .on('animsition.outDone',function(){
            console.log('outDone');
          })
        });
      }());
    </script>

  </body>

</html>